// src/Pages/Dashboard/Dashboard.scss
// REFACTORED: Hauptdatei mit strukturierten Imports
// Alle Styles sind jetzt in separate, wartbare Dateien aufgeteilt

// ===========================
// BASE SYSTEM IMPORTS
// ===========================
@use '../../Styles/Base/_VARIABLES' as *;
@use '../../Styles/Base/_MIXINS' as *;
@use '../../Styles/Base/_FONTS' as *;

// ===========================
// DASHBOARD LAYOUT IMPORTS
// ===========================
@use './Shared/dashboard-base';
@use './Shared/dashboard-content';  
@use './Shared/dashboard-components';

// ===========================
// COMPONENT IMPORTS
// ===========================
@use './Components/Common/DashboardHeader/DashboardHeader';
@use './Components/Common/DashboardNavigation/DashboardNavigation';
@use './Components/Common/DashboardLoading/DashboardLoading';
@use './Components/Common/StatsSection/StatsSection';

// ===========================
// CARD COMPONENT IMPORTS
// ===========================
@use './Components/Cards/MessageCard/MessageCard';
@use './Components/Cards/ProjectCard/ProjectCard';
@use './Components/Cards/ProjectPreviewCard/ProjectPreviewCard';

// ===========================
// ICON SYSTEM (Hier konzentriert)
// ===========================
.icon {
  display: inline-block;
  flex-shrink: 0;
  transition: all 0.3s ease;
  
  // Brand Icon
  &--brand {
    font-size: 2rem;
    
    @media (max-width: 768px) {
      font-size: 1.5rem;
    }
  }
  
  // Avatar Icons
  &--avatar {
    font-size: 2.5rem;
    
    @media (max-width: 768px) {
      font-size: 2rem;
    }
  }
  
  &--profile-avatar {
    font-size: 4rem;
    
    @media (max-width: 768px) {
      font-size: 3rem;
    }
  }
  
  // Navigation Icons
  &--nav {
    font-size: 1.25rem;
    transition: all 0.3s ease;
    
    @media (max-width: 768px) {
      font-size: 1.5rem;
    }
  }
  
  // Action Icons
  &--action {
    font-size: 1.125rem;
    transition: transform 0.3s ease;
    
    @media (max-width: 768px) {
      font-size: 1.25rem;
    }
  }
  
  // Button Icons
  &--btn {
    font-size: 1rem;
    
    @media (max-width: 768px) {
      font-size: 1.125rem;
    }
  }
  
  // Stat Icons
  &--stat {
    font-size: 1.75rem;
    
    @media (max-width: 768px) {
      font-size: 1.5rem;
    }
  }
  
  // Project Type Icons
  &--project-type {
    font-size: 1.5rem;
    
    @media (max-width: 768px) {
      font-size: 1.25rem;
    }
  }
  
  // Action Card Icons
  &--action-card {
    font-size: 2rem;
    transition: all 0.3s ease;
    
    @media (max-width: 768px) {
      font-size: 1.75rem;
    }
  }
  
  // Meta Icons
  &--meta,
  &--detail {
    font-size: 0.875rem;
    opacity: 0.7;
    
    @media (max-width: 768px) {
      font-size: 1rem;
    }
  }
  
  // Menu Icons
  &--menu {
    font-size: 1.125rem;
    
    @media (max-width: 768px) {
      font-size: 1.25rem;
    }
  }
  
  // Chevron Icons
  &--chevron {
    font-size: 1rem;
    opacity: 0.5;
    transition: all 0.3s ease;
  }
  
  // Attachment Icons
  &--attachment,
  &--project {
    font-size: 0.875rem;
    opacity: 0.7;
  }
}

// ===========================
// MAIN DASHBOARD CONTAINER
// ===========================
.dashboard-professional {
  min-height: 100vh;
  position: relative;
  background: transparent;
  overflow-x: hidden;
  
  // Smooth scrolling mit versteckter Browser-Leiste
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  
  // Safe areas für mobile
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

// ===========================
// UTILITY CLASSES
// ===========================

// Text Utilities
.text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.text-center {
  text-align: center;
}

.text-right {
  text-align: right;
}

// Spacing Utilities
.mb-0 { margin-bottom: 0 !important; }
.mb-1 { margin-bottom: 0.5rem !important; }
.mb-2 { margin-bottom: 1rem !important; }
.mb-3 { margin-bottom: 1.5rem !important; }
.mb-4 { margin-bottom: 2rem !important; }

.mt-0 { margin-top: 0 !important; }
.mt-1 { margin-top: 0.5rem !important; }
.mt-2 { margin-top: 1rem !important; }
.mt-3 { margin-top: 1.5rem !important; }
.mt-4 { margin-top: 2rem !important; }

// Display Utilities
.d-none { display: none !important; }
.d-block { display: block !important; }
.d-flex { display: flex !important; }
.d-grid { display: grid !important; }

// Flexbox Utilities
.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.flex-start {
  display: flex;
  align-items: center;
  justify-content: flex-start;
}

.flex-end {
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

// Mobile-only utilities
@media (max-width: 768px) {
  .mobile-hidden {
    display: none !important;
  }
  
  .mobile-only {
    display: block !important;
  }
  
  .mobile-text-center {
    text-align: center !important;
  }
}

// Desktop-only utilities
@media (min-width: 769px) {
  .desktop-hidden {
    display: none !important;
  }
  
  .desktop-only {
    display: block !important;
  }
}

// ===========================
// GLOBAL PERFORMANCE OPTIMIZATIONS
// ===========================

// GPU-Beschleunigung für wichtige Elemente
.dashboard-professional,
.dashboard-professional__header,
.dashboard-professional__nav,
.dashboard-professional__main {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

// Optimierung für Touch-Geräte
@media (hover: none) and (pointer: coarse) {
  // Deaktiviere Hover-Transformationen auf Touch-Geräten
  .icon {
    &:hover {
      transform: none;
    }
    
    &:active {
      transform: scale(0.95);
      transition: transform 0.1s ease;
    }
  }
}

// ===========================
// BROWSER-SPEZIFISCHE ANPASSUNGEN
// ===========================

// Safari-spezifische Fixes
@supports (-webkit-backdrop-filter: blur(20px)) {
  .dashboard-professional__header,
  .dashboard-professional__nav {
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }
}

// Fallback für ältere Browser ohne backdrop-filter
@supports not (backdrop-filter: blur(20px)) {
  .dashboard-professional__header {
    background: rgba(20, 19, 29, 0.98);
  }
  
  .dashboard-professional__nav {
    background: rgba(26, 12, 64, 0.95);
  }
}

// Firefox-spezifische Scrollbar-Anpassungen
@-moz-document url-prefix() {
  .dashboard-professional {
    scrollbar-width: thin;
    scrollbar-color: var(--color-primary) transparent;
  }
}

// Webkit Scrollbar Styling
.dashboard-professional {
  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--color-primary);
    border-radius: 3px;
    
    &:hover {
      background: var(--color-primary-light);
    }
  }
}

// ===========================
// ACCESSIBILITY & HIGH CONTRAST
// ===========================

// Reduced Motion
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

// High Contrast
@media (prefers-contrast: high) {
  .dashboard-professional {
    --color-border: var(--color-primary);
  }
}

// ===========================
// PRINT STYLES
// ===========================
@media print {
  .dashboard-professional {
    background: white !important;
    color: black !important;
    
    &__nav,
    &__header .header-actions {
      display: none !important;
    }
    
    &__main {
      margin-left: 0 !important;
      padding: 0 !important;
    }
    
    .view-content {
      page-break-inside: avoid;
    }
  }
}